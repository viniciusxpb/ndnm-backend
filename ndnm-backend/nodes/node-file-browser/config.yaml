# ndnm-backend\nodes\node-file-browser\config.yaml

# --- Identidade ---
node_id_hash: "hash_sha256_de_viniciusxpb_node-file-browser" # ID 칰nico determin칤stico
label: "游늭 Gerenciador de Arquivos (Din칙mico)" # Nome para a UI
node_type: "filesystem" # Categoria funcional

# --- Se칞칫es de I/O (Grupos de Slots com Comportamentos Espec칤ficos) ---
sections:
  # --- SE칂츾O 1: Adicionar/Copiar Arquivos PARA a Pasta ---
  - section_name: "copy_here" # ID interno da se칞칚o
    section_label: "Copiar Para C치" # Agrupador visual na UI (opcional)
    behavior: "auto_increment" # UI adiciona mais slots deste template quando um 칠 conectado
    slot_template: # Descreve UM PAR de input/output vinculado
      # -- Parte INPUT do par --
      input:
        name: "copy_input" # Nome base para handles de entrada (ex: copy_input_0, copy_input_1)
        label: "Novo Arquivo" # Label de cada slot de entrada criado
        type: "FILE_CONTENT" # O que ele espera: Conte칰do de 1 arquivo
        connections: 1 # EXPLICITANDO: S칩 1 fio pode entrar em cada handle gerado

      # -- Parte OUTPUT vinculada a ESTA a칞칚o de input --
      output:
        name: "copied_output" # Nome base para handles de sa칤da (ex: copied_output_0, copied_output_1)
        label: "Arquivo Copiado" # Label de cada slot de sa칤da vinculado  a칞칚o de c칩pia
        type: "FILE_CONTENT" # O que ele fornece: Conte칰do do arquivo que acabou de ser copiado/salvo
        connections: "n" # EXPLICITANDO: 0 a N fios podem sair deste handle

  # --- SE칂츾O 2: Expor Arquivos INTERNOS da Pasta (Ler/Sobrescrever) ---
  - section_name: "internal_files" # ID interno da se칞칚o
    section_label: "Arquivos na Pasta" # Agrupador visual na UI (opcional)
    behavior: "dynamic_per_file" # UI/Hermes gera um PAR de slots (in/out) para cada arquivo encontrado
    slot_template: # Descreve o PAR de input/output por arquivo
      # -- Parte INPUT do par (para Sobrescrever o arquivo existente) --
      input:
        # O 'name' REAL ser치 din칙mico, baseado no nome do arquivo (ex: internal_input_nomedoarquivo.txt)
        name: "internal_input" # Nome base (implementa칞칚o adiciona o nome do arquivo)
        label: "Substituir {filename}" # Mostra nome do arquivo no label (template)
        type: "FILE_CONTENT" # Espera o novo conte칰do para sobrescrever
        connections: 1 # S칩 aceita 1 conex칚o para sobrescrever

      # -- Parte OUTPUT do par (para Ler o arquivo existente) --
      output:
        # O 'name' REAL ser치 din칙mico, baseado no nome do arquivo (ex: internal_output_nomedoarquivo.txt)
        name: "internal_output" # Nome base (implementa칞칚o adiciona o nome do arquivo)
        label: "{filename}" # Mostra nome do arquivo no label (template)
        type: "FILE_CONTENT" # Fornece o conte칰do daquele arquivo espec칤fico
        connections: "n" # Pode ser conectado a m칰ltiplos n칩s

# --- Controles Internos (Interface Nativa dentro do Node) ---
input_fields:
  # Campo para o usu치rio definir a pasta que este node vai "olhar"
  - name: "target_directory"
    label: "Pasta Gerenciada"
    type: "text" # Futuramente: "directory_picker"

  # Bot칚o para for칞ar a releitura da pasta e atualiza칞칚o dos slots din칙micos
  - name: "refresh_button"
    label: "Atualizar Visualiza칞칚o"
    type: "button"
# SEM 'port'! Hermes cuidar치 disso.
